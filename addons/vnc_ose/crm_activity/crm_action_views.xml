<?xml version="1.0"?>
<openerp>
	<data>
	    <record id="crm_activity_view_search" model="ir.ui.view">
	        <field name="name">crm.activity.view.search</field>
	        <field name="model">crm.activity</field>
	        <field name="arch" type="xml">
	            <search string="Action Search">
	                <field name="name"/>
	                <field name="team_id"/>
	            </search>
	        </field>
	    </record>
	
	    <record id="crm_activity_view_form" model="ir.ui.view">
	        <field name="name">crm.activity.view.form</field>
	        <field name="model">crm.activity</field>
	        <field name="arch" type="xml">
	            <form string="Activities">
	                <div class="oe_title">
	                    <label for="name" class="oe_edit_only"/>
	                    <h1><field name="name"/></h1>
	                </div>
	                <group>
	                    <group>
	                        <field name="team_id"/>
	                        <field name="description"/>
	                        <field name="days"/>
	                    </group>
	                    <group>
	                        <field name="activity_1_id"/>
	                        <field name="activity_2_id"/>
	                        <field name="activity_3_id"/>
	                    </group>
	                </group>
	            </form>
	        </field>
	    </record>
	
	    <record id="crm_activity_view_tree" model="ir.ui.view">
	        <field name="name">crm.activity.view.tree</field>
	        <field name="model">crm.activity</field>
	        <field name="arch" type="xml">
	            <tree string="Activities">
	                <field name="sequence" widget="handle"/>
	                <field name="name"/>
	                <field name="days"/>
	                <field name="team_id"/>
	            </tree>
	        </field>
	    </record>
	
	    <record id="crm_activity_action" model="ir.actions.act_window">
	        <field name="name">Activities</field>
	        <field name="res_model">crm.activity</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">tree,form</field>
	        <field name="help" type="html">
	            <p class="oe_view_nocontent_create">Click to create a new activity.</p>
	        </field>
	    </record>
	
	    <menuitem id="crm_activity_menu" action="crm_activity_action"
	        name="Activities" parent="base.menu_crm_config_lead"/>
	        
	    <record id="crm_activity_transition_view_form" model="ir.ui.view">
	        <field name="name">crm.activity.transition.view.form</field>
	        <field name="model">crm.activity.transition</field>
	        <field name="arch" type="xml">
	            <form string="Activity Transition">
	            	<sheet>
		                <div class="oe_title">
		                    <label for="name" class="oe_edit_only"/>
		                    <h1><field name="name"/></h1>
		                </div>
		                <group>
		                    <group>
		                        <field name="activity_id"/>
		                        <field name="lead_id" readonly="context.get('from_lead', False)"/>
		                        <field name="start_date"/>
		                        <field name="state" invisible="1"/>
		                    </group>
		                </group>
		                <notebook>
		                	<page string="Additional Info">
		                		<group col="2">
	                                   <group>
	                                       <separator string="Contacts" />
	                                       <newline />
	                                       <field name="partner_id" string="Partner"
	                                           on_change="onchange_partner_id(partner_id)" />
	                                       <field name="phone" />
	                                       <field name="mobile" />
	                                       <field name="email_from" />
	                                   </group>
	                                   <group>
	                                       <separator string="Assignment" />
	                                       <newline />
	                                       <field name="user_delegated_id" />
	                                       <field name="delegated_on" />
	                                       <field name="user_id" on_change="onchange_user_id(user_id)" />
	                                   </group>
	                               </group>
	                               <group>
	                                   <separator string="Description" />
	                                   <newline />
	                                   <field name="description" nolabel="1" colspan="4" />
	                               </group>
		                	</page>
		                </notebook>
		            </sheet>
	            </form>
	        </field>
	    </record>
	
	    <record id="crm_activity_transition_view_tree" model="ir.ui.view">
	        <field name="name">crm.activity.transition.view.tree</field>
	        <field name="model">crm.activity.transition</field>
	        <field name="arch" type="xml">
	            <tree string="Activity Transition">
	                <field name="name"/>
	                <field name="activity_id"/>
	                <field name="lead_id"/>
	                <field name="start_date"/>
	                <field name="state" invisible="1"/>
	            </tree>
	        </field>
	    </record>
	    
	     <!-- CRM Activity Calendar -->
	    <record model="ir.ui.view" id="crm_activity_transition_view_calendar">
	        <field name="name">Activity Calendar</field>
	        <field name="model">crm.activity.transition</field>
	        <field name="priority" eval="2"/>
	        <field name="arch" type="xml">
	            <calendar string="Activities" date_start="start_date" date_stop="stop_date" all_day="allday" 
	              color="user_id">	                
	                <field name="activity_id"/>
	                <field name="lead_id"/>
	            </calendar>
	        </field>
	    </record>
	
	    <record id="crm_activity_transition_action" model="ir.actions.act_window">
	        <field name="name">Activity Transitions</field>
	        <field name="res_model">crm.activity.transition</field>
	        <field name="view_type">form</field>
	        <field name="view_mode">calendar,tree,form</field>
	    </record>
	
	    <menuitem id="crm_activity_transition_menu" action="crm_activity_transition_action" sequence="7"
	        name="Activity Transition" parent="base.menu_sales"/>
	        
	    
	</data>
</openerp>
